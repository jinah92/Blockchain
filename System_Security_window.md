# (Day 5-6) 시스템 보안 (윈도우)

## 1. 시스템 보안

---

[관련 보안 기능](https://www.notion.so/0e835259796144de830ebdda07229974)

## 1.1. 계정과 패스워드 관리

---

- **인증 수단**
    - 계정은 시스템에 접근하는 가장 기본적인 방법
    - 기본 구성요소 : 아이디 + 패스워드
    - 식별(identification) : 아이디라는 문자열을 통해 그 자신이 누구인지를 확인하는 과정
    - 아이디만으로는 정확한 식별이 어려워, 인증(Authentication)을 위한 다른 무언가(패스워드)를 요청
- **패스워드 보안의 4가지 인증방법**
    - 알고 있는 것 (something you know) - 머릿속에 기억하고 있는 정보를 이용해 읹증을 수행
    - 가지고 있는 것 (something you have) - 신분증, OTP 장치 등을 통해 인증
    - 스스로의 모습 (something you are) - 홍채 등의 생체정보를 통해 인증을 수행
    - 위치하는 곳 (something you are) - 현재 접속을 시도하는 위치의 적적설응 확인

### 관련 명령어 (윈도우)

- 사용자 계정 확인 : `net users`

![Day%205%206/Untitled.png](Day%205%206/Untitled.png)

- 사용자 그룹 확인 : `net localgroup` (관리자 계정 그룹`net localgroup administrators`)

![Day%205%206/Untitled%201.png](Day%205%206/Untitled%201.png)

- 명령어 사용법 : `net users /?` 또는 `net user?`

![Day%205%206/Untitled%202.png](Day%205%206/Untitled%202.png)

- 명령어 상세 도움말 : `net users /help`

![Day%205%206/Untitled%203.png](Day%205%206/Untitled%203.png)

### 운영체제의 계정 관리

---

[윈도우 주요 그룹](https://www.notion.so/2daab448de50447da3d7e2bf392ecb51)

### 관리자 계정 관리 (Administrators)

- Administrators 그룹에서 삭제는 할 수 없지만, 계정 이름을 변경하거나 '계정 사용 안함'으로 설정 가능
- 기본적으로 제공되는 계정으로, 계정명이 잘 알려져 있어 패스워드 추측 공격이 가능함
⇒ Administrator 계정의 이름을 변경하거나 '계정 사용 안함'으로 설정하는 것이 안전
- 방법 1. 계정 이름 변경
- 로컬 사용자 및 그룹 관리 콘솔(lusrmgr.msc) 실행 ⇒ Administrator 계정 선택 ⇒ F2 (마우스 우클릭 후 '이름 바꾸기' 메뉴) ⇒ 새 이름 입력
- 방법 2. '계정 사용 안함' 설정
- 로컬 사용자 및 그룹 관리 콘솔(lusrmgr.msc) 실행 ⇒ Administrator 계정 선택 ⇒ 마우스 우클릭 후 '속성 ⇒ '계정 사용 안함' 선택 후 확인
- 명령 프롬프트 > NET USER administrator /ACTIVE:NO

### Guest 계정 관리

- 암호를 필요로 하지 않아 보안에 취약
- 계정 활성화 된 경우, Guest 계정으로 로그인하여 시스템 정보를 탈취하거나 관리자 그룹에 등록하여 권한상승이 가능함 
⇒ Guest 계정을 '사용 안함'으로 설정
- '계정 사용 안함' 설정
- 사용자 및 그룹 관리 콘솔(lusrmgr.msc) 실행 ⇒ Guset 계정 선택 ⇒ 마우스 우클릭 후 '속성 ⇒ '계정 사용 안함' 선택 후 확인
- 명령 프롬프트 > NET USER guset /ACTIVE:NO

### 불필요한 계정 관리

- 사용하지 않는 계정, 불필요한 계정, 의심스러운 계정이 있는지 점검하고, 사용하지 않는 계정은 삭제
- 임시로 사용한 계정 또는 퇴사자의 계정은 악용될 수 있으므로 찾아서 삭제하고 증적을 위해 사용할 경우, '계정 사용 안함'으로 설정
- '계정 사용 안함' 설정
- 로컬 사용자 및 그룹 관리 콘솔(lusrmgr.msc) 실행 ⇒ 불필요한 계정 선택 ⇒ 마우스 오른쪽 클릭 후 '속성' 선택 ⇒ '계정 사용 안함' 선택 후 확인
- 명령 프롬포트 ⇒ NET USER username /ACTIVE:NO

### 패스워드 관리

- 암호 정책의 세부 정책들을 확인하고 설정
- **암호 정책 확인 및 설정** (시작 → 실행 → 로컬 보안 정책(secpol.msc) → 계정 정책 → 암호 정책)
- 암호는 복잡성을 만족해야 함 : 사용
- 최근 암호 기억 : 12개 암호 기억
- 최대 암호 사용 기간 : 60일
- 최소 암호 길이 : 8문자
- 최소 암호 사용 기간 : 1일
- 해독 가능한 암호화를 사용하여 암호화 : 사용 안함

### 계정 잠금 임계값 설정

- 실패한 로그인 횟수를 설정 (권고 : 5회)
- 잠금 설정된 계정은 관리자가 다시 설정하거나 계정의 잠금 기간이 만료될 때까지는 사용할 수 없음
- **계정 잠금 임계값 설정 방법**
시작 ⇒ 실행 ⇒ 로컬 보안 정책(secpol.msc) ⇒ 계정 정책 ⇒ 계정 잠금 정책 ⇒ 계정 잠금 임계값 : 5번의 잘못된 로그온 시도

### 계정 잠금 기간 설정

- 자동으로 잠금이 해제될 때까지 잠긴 계정이 잠금 상태로 유지되는 시간(분)을 결정 (권고 : 60분)
- 계정 잠금 기간을 0으로 설정 → 관리자가 명시적으로 잠금 해제할 때까지 잠김 상태를 유지
- 계정 잠금 기간 설정
- 시작 ⇒ 실행 ⇒ 로컬 보안 정책(secpol.msc) ⇒ 계정 정책 ⇒ 계정 잠금 정책 ⇒ 계정 잠금 기간 정책 : 60분

# 윈도우 서버 보안

---

## 1. 시스템 보안 관리

## 1.1. 파일 시스템 체크

- **NTFS 파일 시스템 (사용 권고)**
    - 데이터 접근에 대한 감사 기록, 파일 및 디렉토리에 대한 소유권 및 사용권한을 부여하는 등의 보안 기능 제공
- **FTS 파일 시스템**
    - 시스템 파일이 쉽게 노출될 수 있으므로 사용하지 않음

## 1.2. 불필요한 공유 제거

- (관리 목적의 공유) C$, D$, ADMIN$  등 : 관리자가 네트워크 상에서 시스템 관리 목적
⇒ **관리 목적으로 사용하지 않을 경우 제거**해야 한다.
- 불필요한 공유 디렉토리를 없애고, 필요하다면 디렉토리의 접근 권한에서 Everyone 사용자그룹을 삭제
- 공유 확인 방법

## 1.3. SAM 파일 접근통제

- SAM(Security Account Manager)

## 1.4. '마지막 사용자 이름 표시 안함' 설정

- 임의의 사용자가 해당 계정을 확인 후 로그인 시도가 가능하므로, 마지막으로 로그인한 사용자의 이름이 표시되지 않도록 설정해야 함

## 1.5. 로그인 하지 않고 시스템 종료 방지

- '시스템 : 로그온하지 않고 시스템 종료 허용' 정책
- 활성화 ⇒ Windows 로그온 화면에서 시스템 종료 명령을 사용 가능
- 비활성화 ⇒ 컴퓨터 종료 옵션이 Windows 로그온 화면에 나타나지 않음
- 안전한 시스템을 보장하기 위해, 사용자가 컴퓨터에 로그온하여 시스템 종료 권한이 있는 경우에만 시스템을 종료하도록 함.

## 1.6. 예약 작업 관리

- 공격자가 작업 스케줄러(task scheduler)에 프로그램을 등록하여, 의도하지 않은 시스템 부하를 발생시킬 수 있음
⇒ 작업 스케줄러에 불필요한 명령이 없는지 확인
⇒ 불필요한 명령이 있다면 삭제

## 1.7. 이동식 디스크 보안 관리

- 이동식 디스크 자동 실행 옵션이 허용
⇒ 'Autorun.inf' 파일에 기록된 내용이 자동으로 실행될 때 악성코드에 감염될 수 있음
- 이동식 디스크를 자동으로 실행되지 않도록 설정

## 2. 서비스 보안 관리

## 2.1. 불필요한 서비스 제거

## 2.2. 원격 데스크탑 서비스 설정